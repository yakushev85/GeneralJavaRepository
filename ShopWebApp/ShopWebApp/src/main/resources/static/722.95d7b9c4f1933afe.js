"use strict";(self.webpackChunkui_shop_app=self.webpackChunkui_shop_app||[]).push([[722],{722:(U,g,o)=>{o.r(g),o.d(g,{TransactionModule:()=>v});var r=o(9808),a=o(1810),h=o(262),t=o(1223),u=o(4877);let d=(()=>{class e{constructor(n,i){this.transactionService=n,this.router=i}resolve(n,i){return this.transactionService.getItem(n.params.itemid).pipe((0,h.K)(c=>this.router.navigateByUrl("/")))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.pX),t.LFG(a.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();function T(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"th",1),t._uU(2,"User"),t.qZA(),t.TgZ(3,"td")(4,"a",2),t._uU(5),t.qZA()()()),2&e){const n=t.oxw();t.xp6(4),t.MGl("routerLink","/users/",null==n.transaction||null==n.transaction.user?null:n.transaction.user.id,""),t.xp6(1),t.Oqu(null==n.transaction||null==n.transaction.user?null:n.transaction.user.username)}}let Z=(()=>{class e{constructor(n,i,c,l){this.route=n,this.router=i,this.userService=c,this.productService=l,this.isAdmin=!1,this.isSubmitting=!1}ngOnInit(){this.route.data.subscribe(n=>{this.transaction=n.transaction,this.productService.getItem(this.transaction.product.id).subscribe(i=>{this.product=i})}),this.userService.isAdmin.subscribe(n=>{this.isAdmin=n})}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(a.gz),t.Y36(a.F0),t.Y36(u.KD),t.Y36(u.M5))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-transaction-item"]],decls:24,vars:6,consts:[[1,"table","table-light"],["scope","row"],[3,"routerLink"],[4,"ngIf"]],template:function(n,i){1&n&&(t.TgZ(0,"table",0)(1,"tbody")(2,"tr")(3,"th",1),t._uU(4,"Description"),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA()(),t.TgZ(7,"tr")(8,"th",1),t._uU(9,"Product Name"),t.qZA(),t.TgZ(10,"td")(11,"a",2),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"th",1),t._uU(15,"Product Price"),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA()(),t.TgZ(18,"tr")(19,"th",1),t._uU(20,"Created At"),t.qZA(),t.TgZ(21,"td"),t._uU(22),t.qZA()(),t.YNc(23,T,6,2,"tr",3),t.qZA()()),2&n&&(t.xp6(6),t.Oqu(null==i.transaction?null:i.transaction.description),t.xp6(5),t.MGl("routerLink","/products/",null==i.product?null:i.product.id,""),t.xp6(1),t.Oqu(null==i.product?null:i.product.name),t.xp6(5),t.Oqu(null==i.product?null:i.product.price),t.xp6(5),t.Oqu(null==i.transaction?null:i.transaction.createdAt),t.xp6(1),t.Q6J("ngIf",i.isAdmin))},directives:[a.yS,r.O5],styles:[""]}),e})();var m=o(1724);function A(e,s){1&e&&(t.TgZ(0,"th",1),t._uU(1,"User"),t.qZA())}function f(e,s){if(1&e&&(t.TgZ(0,"td")(1,"a",13),t._uU(2),t.qZA()()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.MGl("routerLink","/users/",null==n.user?null:n.user.id,""),t.xp6(1),t.Oqu(null==n.user?null:n.user.username)}}function _(e,s){if(1&e&&(t.TgZ(0,"tr")(1,"th",12)(2,"a",13),t._uU(3),t.qZA()(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td")(7,"a",13),t._uU(8),t.qZA()(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.YNc(12,f,3,2,"td",14),t.qZA()),2&e){const n=s.$implicit,i=t.oxw();t.xp6(2),t.MGl("routerLink","/transactions/",n.id,""),t.xp6(1),t.Oqu(n.id),t.xp6(2),t.Oqu(n.description),t.xp6(2),t.MGl("routerLink","/products/",n.product.id,""),t.xp6(1),t.Oqu(n.product.name),t.xp6(2),t.Oqu(t.xi3(11,7,n.createdAt,"medium")),t.xp6(2),t.Q6J("ngIf",i.isAdmin)}}const q=[{path:"",component:(()=>{class e{constructor(n,i){this.transactionService=n,this.userService=i,this.transactions=[],this.isAdmin=!1,this.pageNumber=1,this.pageSize=10,this.totalElements=0}ngOnInit(){this.listValues(),this.userService.isAdmin.subscribe(n=>{this.isAdmin=n})}listValues(){this.transactionService.getAll(this.pageNumber-1,this.pageSize).subscribe(n=>{n&&(this.transactions=n.content,this.pageNumber=n.pageable.pageNumber+1,this.pageSize=n.pageable.pageSize,this.totalElements=n.totalElements)})}updatePageSize(n){this.pageSize=+n,this.listValues()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(u.pX),t.Y36(u.KD))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-transaction-list"]],decls:31,vars:7,consts:[[1,"table","table-light"],["scope","col"],["scope","col",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"row"],[1,"col-md-9",2,"padding-left","5%"],[3,"page","pageSize","collectionSize","maxSize","boundaryLinks","pageChange"],[1,"col-md-3","mt-2",2,"text-align","right"],[1,"mr-2"],[3,"change"],["pageSizeSelect",""],["selected","true"],["scope","row"],[3,"routerLink"],[4,"ngIf"]],template:function(n,i){if(1&n){const c=t.EpF();t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),t._uU(4,"#"),t.qZA(),t.TgZ(5,"th",1),t._uU(6,"Description"),t.qZA(),t.TgZ(7,"th",1),t._uU(8,"Product Name"),t.qZA(),t.TgZ(9,"th",1),t._uU(10,"Created At"),t.qZA(),t.YNc(11,A,2,0,"th",2),t.qZA()(),t.TgZ(12,"tbody"),t.YNc(13,_,13,10,"tr",3),t.qZA()(),t.TgZ(14,"div")(15,"div",4)(16,"div",5)(17,"ngb-pagination",6),t.NdJ("pageChange",function(p){return i.pageNumber=p})("pageChange",function(){return i.listValues()}),t.qZA()(),t.TgZ(18,"div",7)(19,"span",8),t._uU(20,"Page Size "),t.qZA(),t.TgZ(21,"select",9,10),t.NdJ("change",function(){t.CHM(c);const p=t.MAs(22);return i.updatePageSize(p.value)}),t.TgZ(23,"option"),t._uU(24,"5"),t.qZA(),t.TgZ(25,"option",11),t._uU(26,"10"),t.qZA(),t.TgZ(27,"option"),t._uU(28,"20"),t.qZA(),t.TgZ(29,"option"),t._uU(30,"50"),t.qZA()()()()()}2&n&&(t.xp6(11),t.Q6J("ngIf",i.isAdmin),t.xp6(2),t.Q6J("ngForOf",i.transactions),t.xp6(4),t.Q6J("page",i.pageNumber)("pageSize",i.pageSize)("collectionSize",i.totalElements)("maxSize",5)("boundaryLinks",!0))},directives:[r.O5,r.sg,a.yS,m.N9],pipes:[r.uU],styles:[""]}),e})()},{path:":itemid",component:Z,resolve:{transaction:d}}];let S=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[a.Bz.forChild(q)],a.Bz]}),e})(),v=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[d],imports:[[r.ez,S,m.IJ]]}),e})()}}]);