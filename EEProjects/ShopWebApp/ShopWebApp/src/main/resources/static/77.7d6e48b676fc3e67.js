"use strict";(self.webpackChunkui_shop_app=self.webpackChunkui_shop_app||[]).push([[77],{7077:(P,u,n)=>{n.r(u),n.d(u,{ProfileModule:()=>c});var d=n(9808),s=n(2382),l=n(1810),r=n(1223),m=n(4877);const p=[{path:"general",component:(()=>{class e{constructor(o,t,a){this.router=o,this.userService=t,this.fb=a,this.error="",this.isSubmitting=!1,this.resetPasswordForm=this.fb.group({currentPassword:["",s.kI.required],newPassword:["",s.kI.required],reNewPassword:["",s.kI.required]}),this.userService.currentUser.subscribe(w=>{this.currentUser=w})}ngOnInit(){}submitForm(){this.isSubmitting=!0,this.userService.resetPassword(this.resetPasswordForm.value).subscribe({next:o=>{this.router.navigateByUrl("/")},error:o=>{this.error="Wrong current password.",console.log(o)},complete:()=>{this.isSubmitting=!1}})}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(l.F0),r.Y36(m.KD),r.Y36(s.qu))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-profile-general"]],decls:19,vars:5,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"p-2","error-text"],[1,"p-2"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group","p-2"],["formControlName","currentPassword","placeholder","Current password","type","password",1,"form-control","form-control-md"],["formControlName","newPassword","placeholder","New password","type","password",1,"form-control","form-control-md"],["formControlName","reNewPassword","placeholder","Repeat new password","type","password",1,"form-control","form-control-md"],["type","submit",1,"btn","btn-md","btn-primary",3,"disabled"]],template:function(o,t){1&o&&(r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),r._uU(5),r.qZA(),r.TgZ(6,"p",5),r._uU(7),r.qZA(),r.TgZ(8,"form",6),r.NdJ("ngSubmit",function(){return t.submitForm()}),r.TgZ(9,"fieldset",7)(10,"fieldset",8),r._UZ(11,"input",9),r.qZA(),r.TgZ(12,"fieldset",8),r._UZ(13,"input",10),r.qZA(),r.TgZ(14,"fieldset",8),r._UZ(15,"input",11),r.qZA(),r.TgZ(16,"div",5)(17,"button",12),r._uU(18," Apply New Password "),r.qZA()()()()()()()()),2&o&&(r.xp6(5),r.Oqu(t.error),r.xp6(2),r.hij("Username: ",null==t.currentUser?null:t.currentUser.username,""),r.xp6(1),r.Q6J("formGroup",t.resetPasswordForm),r.xp6(1),r.Q6J("disabled",t.isSubmitting),r.xp6(8),r.Q6J("disabled",!(t.resetPasswordForm.valid&&t.resetPasswordForm.value.newPassword==t.resetPasswordForm.value.reNewPassword)))},directives:[s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u],styles:[".error-text[_ngcontent-%COMP%]{color:#ff2020}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[l.Bz.forChild(p)],l.Bz]}),e})(),c=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[d.ez,s.u5,f,s.UX]]}),e})()}}]);